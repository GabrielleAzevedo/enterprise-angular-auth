<app-auth-layout>
  @if (!emailSent()) {
    <p class="text-center font-medium">Recuperar senha</p>
    <p class="text-center text-sm text-gray-500 font-medium tracking-wide mb-4">
      Informe seu email para receber instruções de redefinição de senha.
    </p>

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="mb-3 block">
        <app-input label="Email" formControlName="email" icon="email" placeholder="seu@email.com">
          <lucide-angular [img]="Mail" size="18" icon></lucide-angular>
        </app-input>
      </div>
      <div class="mt-4">
        <app-button
          type="submit"
          [fullWidth]="true"
          [loading]="isLoading()"
          [disabled]="isLoading()"
        >
          Enviar link de recuperação
        </app-button>
      </div>
      <div class="mt-4">
        <app-button variant="outline" [fullWidth]="true" routerLink="/entrar">
          Voltar para o Login
          <lucide-angular [img]="ArrowLeft" size="18" icon></lucide-angular>
        </app-button>
      </div>
    </form>
  } @else {
    <div class="text-center">
      <div
        class="mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4"
      >
        <lucide-angular [img]="Mail" class="text-green-600"></lucide-angular>
      </div>
      <h1 class="text-2xl font-bold text-gray-900 mb-2">Verifique seu e-mail</h1>
      <p class="text-sm text-gray-500 mb-6">
        Enviamos um link de recuperação de senha para {{ form.get('email')?.value }}
      </p>

      <app-button variant="outline" [fullWidth]="true" routerLink="/entrar">
        Voltar para o Login
      </app-button>
    </div>
  }
</app-auth-layout>
